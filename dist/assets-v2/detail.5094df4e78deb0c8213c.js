(self.webpackChunkwikistats=self.webpackChunkwikistats||[]).push([[167],{4247:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>be});var n=i(538),a=i(629),o=i(9194),s=i(3657);var r=i(1900);const l=(0,r.Z)({name:"wiki-button",props:["pressed"]},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"split button",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,null,"424f68cd",null).exports;var c=i(1007);const d={name:"metrics-dropdown",props:["granularity","metric"],data:()=>({visible:!1,metrics:Object.keys(c.Z.metrics).reduce(((e,t)=>{const i=c.Z.metrics[t];return i.name=t,e[i.area].push(i),e}),{reading:[],contributing:[],content:[]})}),methods:{active(e){return e===this.metric?"active":""},toggleVisibility(){this.visible=!this.visible},goToMetric(e,t){t!==this.metric.name&&this.$store.commit("reload",{project:this.$store.getters.project,metric:t,area:e})}}},m=(0,r.Z)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui floating dropdown button",on:{click:function(t){return e.toggleVisibility()}}},[i("span",{staticClass:"text metric name"},[e._v(e._s(e.metric.fullName))]),e._v(" "),i("span",{staticClass:"granularity subdued"},[e._v(e._s(e.granularity))]),e._v(" "),i("i",{staticClass:"dropdown icon"}),e._v(" "),i("div",{staticClass:"menu",class:{shown:e.visible,hidden:!e.visible}},[i("div",{staticClass:"marea"},[e._v("Reading")]),e._v(" "),e._l(e.metrics.reading,(function(t){return i("div",{staticClass:"item",class:e.active(t),attrs:{"data-value":t.name},on:{click:function(i){return e.goToMetric(t.area,t.name)}}},[e._v("\n            "+e._s(t.fullName)+"\n        ")])})),e._v(" "),i("div",{staticClass:"divider"}),e._v(" "),i("div",{staticClass:"marea"},[e._v("Contributing")]),e._v(" "),e._l(e.metrics.contributing,(function(t){return i("div",{staticClass:"item",class:e.active(t),attrs:{"data-value":t.name},on:{click:function(i){return e.goToMetric(t.area,t.name)}}},[e._v("\n            "+e._s(t.fullName)+"\n        ")])})),e._v(" "),i("div",{staticClass:"divider"}),e._v(" "),i("div",{staticClass:"marea"},[e._v("Content")]),e._v(" "),e._l(e.metrics.content,(function(t){return i("div",{staticClass:"item",class:e.active(t),attrs:{"data-value":t.name},on:{click:function(i){return e.goToMetric(t.area,t.name)}}},[e._v("\n            "+e._s(t.fullName)+"\n        ")])}))],2)])}),[],!1,null,"f25308a0",null).exports;var u=i(224),h=i(8193),g=i(3127),p=(i(8116),i(9853)),f=i(5666);const v=(0,r.Z)({name:"selected-cover",props:["left","right","color","height"]},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("rect",{staticClass:"selectedCover",staticStyle:{stroke:"black","stroke-width":"0",opacity:"0.5"},attrs:{x:e.left,y:"20",width:e.right-e.left,height:e.height,fill:e.color}})}),[],!1,null,null,null).exports;var b=i(9755);const y={name:"selected-cover-loading",props:["left","right","color","height"],data:()=>({interval:null}),mounted(){this.interval=setInterval((()=>{const e=parseInt(b("#barberPattern").attr("x"));b("#barberPattern").attr("x",(e+2)%42.5+"")}),50)},destroyed(){clearInterval(this.interval)}},w=(0,r.Z)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("g",[i("defs",[i("pattern",{attrs:{patternUnits:"userSpaceOnUse",id:"barberPattern",x:"0",y:"0",width:"42.5",height:"42.5"}},[i("rect",{attrs:{x:"-40",y:"0",width:"20",height:"250",fill:e.color,transform:"rotate(-45, 0, 0)"}}),e._v(" "),i("rect",{attrs:{x:"-10",y:"0",width:"20",height:"250",fill:e.color,transform:"rotate(-45, 0, 0)"}}),e._v(" "),i("rect",{attrs:{x:"20",y:"0",width:"20",height:"250",fill:e.color,transform:"rotate(-45, 0, 0)"}})]),e._v(" "),i("mask",{attrs:{id:"barberMask"}},[i("rect",{attrs:{x:e.left,y:"20",width:e.right-e.left,height:e.height,fill:"#fff"}})])]),e._v(" "),i("g",{attrs:{mask:"url(#barberMask)"}},[i("g",{attrs:{id:"patternTrain"}},[i("rect",{attrs:{x:e.left,y:"20",width:e.right-e.left,height:e.height,fill:"url(#barberPattern)"}})])])])}),[],!1,null,null,null).exports;var C=i(9755);const _={name:"time-selector",props:["leftBound","rightBound","width","startDate","endDate","mainColor","secondaryColor","mode","graphModel","height"],components:{SelectedCover:v,SelectedCoverLoading:w},data(){return{start:null,end:null,right:0,left:null,dragging:{left:!1,right:!1},margin:"monthly"===this.graphModel.granularity?70:82,sliderWidth:10}},mounted(){this.start=this.startDate,this.end=this.endDate,this.right=this.timeToX(this.end),"top"!==this.mode&&(this.left=this.timeToX(this.start))},computed:Object.assign((0,a.rn)("detail",["timeRange"]),{loading(){return!!this.graphModel.status},anchorSeparation(){const e="monthly"===this.graphModel.granularity?70:82,t=this.right-this.left;return t<e/2+e/2?(e/2+e/2-t)/2+2:0}}),watch:{timeRange(){this.start=this.timeRange.start,this.end=this.timeRange.end,this.left=this.timeToX(this.timeRange.start),this.right=this.timeToX(this.timeRange.end)}},methods:{textPosition(e,t){if("left"===t){const t=C(".slider.text.right");let i=0;return t.length>0&&(i=t[0].textLength.baseVal.value),Math.max(40,Math.min(e-this.anchorSeparation,this.width-12-40-i))}{const t=C(".slider.text.left");let i=0;return t.length>0&&(i=t[0].textLength.baseVal.value),Math.max(52+i,Math.min(e+this.anchorSeparation,this.width-40))}},setLeft(e){this.left=Math.min(this.right,Math.max(this.margin/2,e))},setRight(e){"timeseries"===this.mode?this.right=Math.max(Math.max(this.margin/2,this.left),Math.min(e,this.width-this.margin/2)):this.right=Math.max(this.margin/2,Math.min(e,this.width-this.margin/2))},coverType:e=>e?"selected-cover-loading":"selected-cover",timeToX(e){return g.BY().domain([this.leftBound,this.rightBound]).range([this.margin/2,this.width-this.margin/2])(e)},xToTime(e){return g.BY().domain([this.margin/2,this.width-this.margin/2]).range([this.leftBound,this.rightBound])(e)},onClick(e){e.stopPropagation()},onDragStart(e){e.target.classList.contains("left")?this.dragging.left=!0:e.target.classList.contains("right")&&(this.dragging.right=!0)},onMouseMove(e){const t=this.$el.getScreenCTM();if(e.touches&&(e=e.touches[0]),this.dragging.left){const i=(e.clientX-t.e)/t.a;this.setLeft(i),this.start=this.xToTime(this.left)}else if(this.dragging.right){const i=(e.clientX-t.e)/t.a;this.setRight(i),this.end=this.xToTime(this.right),"top"===this.mode&&this.setStartForTops()}},onMouseUp(e){this.dragging.left?(this.dragging.left=!1,this.reportChange()):this.dragging.right&&(this.dragging.right=!1,this.reportChange())},reportChange(){const e=new f.Z([this.start,this.end]);this.$store.commit("detail/timeRange",{timeRange:e})},sliderRange(){return"timeseries"===this.mode?[f.Z.dateFormatForGranularity(this.start,this.graphModel.granularity),f.Z.dateFormatForGranularity(this.end,this.graphModel.granularity)]:f.Z.dateFormatForGranularity(new f.Z([this.start,this.end]).getMidDate(),this.graphModel.granularity)},setStartForTops(){const e=new Date(this.end);"monthly"===this.graphModel.granularity?e.setUTCDate(e.getUTCDate()-1):e.setUTCHours(0),this.start=e}}},x=(0,r.Z)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{staticClass:"timeselector",attrs:{height:2*e.height,width:e.width},on:{click:e.onClick,mousemove:e.onMouseMove,touchmove:e.onMouseMove,mouseup:e.onMouseUp,touchend:e.onMouseUp,touchleave:e.onMouseUp,touchcancel:e.onMouseUp,mousedown:e.onDragStart,touchstart:e.onDragStart}},[i("g",["timeseries"===e.mode?i(e.coverType(e.loading),{tag:"component",attrs:{left:e.left,right:e.right,color:e.secondaryColor,height:e.height-4}}):e._e(),e._v(" "),i("rect",{staticClass:"mainRect",attrs:{x:e.margin/2,y:"20",rx:"2",ry:"2",width:e.width-e.margin,height:e.height-4}}),e._v(" "),"timeseries"===e.mode?i("g",[e.start?i("text",{staticClass:"slider text left",attrs:{unselectable:"on",x:e.textPosition(e.left,"left"),y:"10"}},[e._v(e._s(e.sliderRange()[0]))]):e._e(),e._v(" "),i("rect",{staticClass:"slider left",attrs:{x:e.left,y:"18",rx:"2",ry:"2",width:e.sliderWidth,height:e.height}}),e._v(" "),e.anchorSeparation>0?i("text",{staticClass:"slider text hyphen",attrs:{unselectable:"on",x:(e.textPosition(e.right,"right")+e.textPosition(e.left,"left"))/2,y:"10"}},[e._v("-")]):e._e(),e._v(" "),e.end?i("text",{staticClass:"slider text right",attrs:{unselectable:"on",x:e.textPosition(e.right,"right"),y:"10"}},[e._v(e._s(e.sliderRange()[1]))]):e._e(),e._v(" "),i("rect",{staticClass:"slider right",attrs:{x:e.right,y:"18",rx:"2",ry:"2",width:e.sliderWidth,height:e.height}})]):i("g",[e.end?i("text",{staticClass:"slider text right",attrs:{unselectable:"on",x:e.right,y:"10"}},[e._v(e._s(e.sliderRange()))]):e._e(),e._v(" "),i("rect",{staticClass:"slider right",attrs:{x:e.right,y:"18",rx:"2",ry:"2",width:e.sliderWidth,height:e.height}})])],1)])}),[],!1,null,null,null).exports,M=x;var k=i(9755);const S={name:"wiki-time-bar",props:["graphModel"],components:{WikiSelector:s.Z,TimeSelector:M},computed:Object.assign((0,a.rn)("detail",["granularity","timeRange"]),(0,a.rn)(["selectingTime"]),{mobileTimeSelectorWidth:()=>k(".ui.column.wide.selector").width()}),methods:{toggleTimeSelection(){const e=!this.selectingTime;this.$store.commit("selectingTime",{selectingTime:e})},switchGranularity(){const e=["monthly","daily"],t=e.indexOf(this.graphModel.granularity),i=e[(t+1)%e.length];this.$store.commit("detail/granularity",{granularity:i})}}},T=(0,r.Z)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.graphModel?i("div",{staticClass:"ui grid wikis",class:{displaced:e.selectingTime}},[i("wiki-selector",{staticClass:"ui column seven wide",attrs:{single:!1}}),e._v(" "),i("div",{staticClass:"ui column calendarToggle",on:{click:e.toggleTimeSelection}},[i("i",{staticClass:"icon",class:{"calendar large alternate outline":e.selectingTime,"calendar large alternate":!e.selectingTime}})]),e._v(" "),i("div",{staticClass:"ui column six wide selector"},[e.selectingTime?i("time-selector",{attrs:{width:e.mobileTimeSelectorWidth||250,height:18,mode:e.graphModel.config.structure,graphModel:e.graphModel,leftBound:new Date(e.graphModel.config.knownStart||"2001-01-01"),rightBound:new Date(e.graphModel.config.knownEnd||new Date),startDate:e.timeRange.start,endDate:e.timeRange.end,mainColor:e.graphModel.config.darkColor,secondaryColor:e.graphModel.config.lightColor}}):e._e()],1),e._v(" "),e.selectingTime&&e.graphModel.availableGranularities().length>1?i("div",{staticClass:"ui column granularity"},[i("span",{staticClass:"ui label granularity",on:{click:e.switchGranularity}},[e._v(e._s(e.granularity[0]))])]):e._e()],1):e._e()}),[],!1,null,null,null).exports,D={name:"simple-legend",props:["dimension","graphModel"],computed:(0,a.Se)("dimensions",["colorForDimensionValue"]),methods:{getColor(e){return this.colorForDimensionValue(e,this.$store.state.area)},geti18nBreakdownKey(e){return"total"===e?"general-total":`metrics-${this.graphModel.metricId}-breakdowns-${this.dimension.key}-values-${e}-name`}}},F=(0,r.Z)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e.dimension?i("span",e._l(e.dimension.values,(function(t,n){return t.on?i("span",[i("span",{staticClass:"color swatch",style:{"background-color":e.getColor(t.key)}}),e._v("\n            "+e._s(e._f("capitalize")(e.$t(e.geti18nBreakdownKey(t.key))))+"\n        ")]):e._e()})),0):e._e()])}),[],!1,null,null,null).exports;var $=i(6610),A=i(4547),R=(i(8274),i(548),i(8638)),B=i(7778),O=i(6486),P=i.n(O),E=i(4316),j=i.n(E);const N={name:"bar-chart",props:["graphModel"],data:()=>({hoveredBar:null,x:null,y:null}),computed:Object.assign((0,a.Se)("dimensions",["splittingDimension","activeSplitValues","colorForDimensionValue"]),(0,a.rn)("detail",["fullscreen"]),{granularityFormat(){return p.Z.getDateFormatFromData(this.graphModel.graphData)}}),mounted(){this.drawChart()},watch:{"graphModel.graphData"(){this.drawChart()},fullscreen(){this.drawChart()}},methods:{dateFormat(e){return f.Z.dateFormatForGranularity(e,this.graphModel.granularity)},geti8nBreakdownKey(e){return"total"===e?"general-total":`metrics-${this.graphModel.metricId}-breakdowns-${this.splittingDimension.key}-values-${e}-name`},transformAndAddAnnotations(e){const t=this.x.range()[1],i=this.y.range()[0],n=this.splittingDimension.values.filter((e=>e.on)).map((e=>e.key)),a=this.x.bandwidth()/n.length,o=(0,B.I)(e.map((e=>{const o=this.x(e.date)+a*(n.indexOf(e.splitValue)+.5),s=this.y(e.value)||i;return{subject:{radius:14,radiusPadding:2},color:"#225588",dx:o>t-120?-20:20,dy:s>i-100?-50:50,x:o,y:s,splitValue:e.splitValue,note:{bgPadding:10,label:e.label,title:e.title}}})),28);this.addAnnotations(this.getRoot().select("svg").select(".graph"),o,this.x,this.y)},getRoot(){return h.Ys(this.$el).select(".big")},drawChart(){if(!this.graphModel.graphData||!this.graphModel.graphData.length)return;let e;e="bytes"===this.graphModel.config.unit?e=>j()(e).format({optionalMantissa:!0,output:"byte",base:"decimal",mantissa:1}).toUpperCase():e=>j()(e).format({optionalMantissa:!0,mantissa:1,average:!0}).toUpperCase(),this.hoveredBar=null;const t=h.Ys(this.$el).select(".big"),i=t.select("svg"),n=i.select(".graph");i.attr("width",0).attr("height",0),n.selectAll("*").remove();const a=t.node();let o=this.graphModel.graphData.map((e=>e.month));const s=$.We(o),{min:r,max:l}=this.graphModel.getMinMax();let c=a.offsetHeight-6-20-4,d=g.BY().range([c,0]);d.domain([r,l]);const m=A.y4(d).ticks(7).tickFormat(e),u=n.append("g").call(m).style("font-size","13px").style("font-family",'Lato, "Open Sans"').node().getBBox().width;n.attr("transform",`translate(${u},6)`);let p=this.$el.offsetWidth-40,f=g.ti().range([0,p]).domain(o).paddingOuter(0).paddingInner(.1).align(0);i.attr("width",a.offsetWidth).attr("height",a.offsetHeight);let v=n.append("g");d.domain([r,l]);let b=this;v.selectAll(".bar").data(this.graphModel.graphData).enter().selectAll(".minibar").data((e=>this.activeSplitValues.map(((t,i)=>({month:e.month,key:t,breakdownKey:t,value:e.total[t],color:b.colorForDimensionValue(t,this.graphModel.config.area),width:f.bandwidth()/Object.keys(b.activeSplitValues).length,index:i}))))).enter().append("rect").attr("x",(e=>f(e.month)+e.index*e.width)).attr("y",(e=>e.value>=0?d(e.value):d(0))).attr("width",(e=>e.width)).attr("height",(e=>e.value?Math.abs(d(e.value)-d(0)):0)).attr("fill",(e=>e.color)).on("mouseover",(function(e){const t=h.Ys("#diagonalHatch");h.Ys(t.node().firstChild).style("fill",e.color),h.Ys(this).attr("fill","url(#diagonalHatch)"),b.hoveredBar=e;const i=b.$el.getBoundingClientRect(),n=b.$parent.$el.getBoundingClientRect(),a=this.getBoundingClientRect();b.hoveredBar.left=a.left-n.left+b.hoveredBar.width/2,b.hoveredBar.top=a.top-i.top,b.hoveredBar.right=i.right-a.right+40})).on("mouseout",(function(e){h.Ys(this).attr("fill",e.color),h.B.stopPropagation()})),r<0&&v.append("line").attr("x1",0).attr("x2",p).attr("y1",d(0)).attr("y2",d(0)).style("stroke","black").style("stroke-width",.5);const y=g.Xf().rangeRound([0,p]).domain(s),w=A.LL(y);if(n.append("g").attr("transform",`translate(0,${c})`).call(w).attr("class","x-axis-labels").style("font-size","13px").style("font-family",'Lato, "Open Sans"').selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),i.attr("width",a.offsetWidth).attr("height",n.node().getBBox().height+6),a.onmouseout=this.onGraphMouseOut.bind(this),this.x=f,this.y=d,this.graphModel.hasTruncatedValues()){const e={x:1,y:d(1e3),width:p,height:c-d(1e3)};this.addTruncatedShield(e,n)}this.graphModel.afterAnnotations(this.transformAndAddAnnotations)},addTruncatedShield(e,t){t.append("rect").attr("x",1).attr("y",e.y).attr("width",e.width).attr("height",e.height).attr("fill","white"),t.append("line").attr("x1",1).attr("y1",e.y).attr("x2",e.width).attr("y2",e.y).attr("style","stroke:#990000; stroke-width:2").attr("stroke-dasharray","2"),t.append("text").attr("width",e.width).attr("height",e.height).attr("x",10).attr("y",e.y+20).attr("style","stroke:#990000; stroke-width: 0.5; font-size: 12px").text("Values under 1000 are not reported to preserve accuracy")},onGraphMouseOut(e){this.hoveredBar=null},getPopupStyle:e=>({top:e.top-65+"px",left:e.left-80+"px",border:"solid 1px "+e.color,borderBottom:"solid 3px "+e.color}),getPopupArrowStyle:e=>({borderBottom:"solid 3px "+e.color,borderRight:"solid 3px "+e.color}),addAnnotations(e,t){const i=(0,R.Bv)(R.DE,{className:"customCalloutCircle",connector:{end:"arrow",type:"line"},note:{align:"dynamic",lineType:"horizontal"}}),n=(0,R.dQ)().editMode(!1).type(i).annotations(t);e.append("g").attr("class","annotation-group").call(n)}}},L=(0,r.Z)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"graphContainer"},[e.hoveredBar?i("div",{staticClass:"bar valuePopup",style:e.getPopupStyle(e.hoveredBar)},[i("b",[e._v(e._s(e.dateFormat(e.hoveredBar.month)))]),e._v(" "),i("div",[i("b",[i("span",{style:{color:e.hoveredBar.color}},[e._v(e._s(e._f("capitalize")(e.$t(e.geti8nBreakdownKey(e.hoveredBar.breakdownKey)))))])]),e._v(" "),i("span",[e._v(e._s(e._f("thousands")(e.hoveredBar.value)))])]),e._v(" "),i("div",{staticClass:"tooltipArrow"},[i("div",{staticClass:"tooltipAfter",style:e.getPopupArrowStyle(e.hoveredBar)})])]):e._e(),e._v(" "),i("div",{staticClass:"big bar chart"},[i("svg",[i("pattern",{attrs:{id:"diagonalHatch",patternUnits:"userSpaceOnUse",width:"4",height:"8",patternTransform:"rotate(45 0 0)"}},[i("rect",{attrs:{x:"0",y:"0",width:"50",height:"50"}}),e._v(" "),i("line",{staticStyle:{stroke:"black","stroke-width":"3"},attrs:{x1:"0",y1:"0",x2:"0",y2:"50"}})]),e._v(" "),i("g",{staticClass:"graph"})])])])}),[],!1,null,null,null).exports;var H=i(2877),Z=i(9755);const V={name:"line-chart",props:["graphModel"],data:()=>({hoveredPoint:null,hoveredPointTop:null,hoveredPointLeft:null,hoveredPointColor:null,hoveredPointColor:null,margin:{top:6,right:0,bottom:20,left:40},x:null,y:null}),computed:Object.assign((0,a.Se)("dimensions",["splittingDimension","activeSplitValues","colorForDimensionValue"]),(0,a.rn)("detail",["fullscreen"]),{selectedValue(){let e=[];const t=this.activeSplitValues;return P().forEach(this.hoveredPoint.total,((i,n)=>{t.find((e=>e===n))&&e.push({key:n,value:i,color:this.colorForDimensionValue(n,this.graphModel.config.area),name:n})})),P().sortBy(e,(e=>e.value)).reverse()},granularityFormat(){return p.Z.getDateFormatFromData(this.graphModel.graphData)}}),mounted(){this.drawChart()},watch:{"graphModel.graphData"(){this.drawChart()},fullscreen(){this.drawChart()}},methods:{dateFormat(e){return f.Z.dateFormatForGranularity(e,this.graphModel.granularity)},transformAndAddAnnotations(e){const t=this.x.range()[1],i=this.y.range()[0],n=(0,B.I)(e.map((e=>{const n=this.x(e.date),a=this.y(e.value);return{subject:{radius:14,radiusPadding:2},color:"#4488aa",dx:n>t-120?-20:20,dy:a>i-100?-50:50,x:n,y:a,splitValue:e.splitValue,note:{bgPadding:10,label:e.label,title:e.title}}})),28);this.addAnnotations(this.getRoot().select("svg").select(".graph"),n)},getRoot(){return h.Ys(this.$el).select(".big")},geti18nBreakdownKey(e){return"total"===e?"general-total":`metrics-${this.graphModel.metricId}-breakdowns-${this.splittingDimension.key}-values-${e}-name`},drawChart(){if(!this.graphModel.graphData.length)return;this.hoveredPoint=null;const e=this.getRoot(),t=e.select("svg"),i=t.select(".graph");t.attr("width",0).attr("height",0),i.selectAll("*").remove();const{min:n,max:a}=this.graphModel.getMinMax(),o=e.node(),s=o.offsetWidth-this.margin.left-this.margin.right-8,r=g.Xf().rangeRound([0,s]),l=this.graphModel.graphData.map((e=>e.month));r.domain($.We(l));const c=o.offsetHeight-this.margin.top-this.margin.bottom-4,d=g.BY().rangeRound([c,0]);d.domain([n,a]),t.attr("width",o.offsetWidth).attr("height",o.offsetHeight),o.onmousemove=this.onGraphMouseMove,o.onmouseout=this.onGraphMouseOut;const m=H.jv().x((e=>r(e.month))).y((e=>d(e.total)));let u=this.graphModel.darkColor;if(this.activeSplitValues.map((e=>this.graphModel.graphData.map((t=>({month:t.month,total:t.total[e],key:e}))).filter((e=>"number"==typeof e.total)))).forEach((e=>{u=this.colorForDimensionValue(e[0].key,this.graphModel.config.area),i.append("path").datum(e).attr("d",m).attr("class","statLine breakdownLine").style("stroke",u).style("stroke-width","3px").style("fill","none")})),this.addHoverGuide(i,this.graphModel.graphData,r,d),this.addAxes(r,d,i),t.attr("width",o.offsetWidth+4).attr("height",i.node().getBBox().height+this.margin.top),this.x=r,this.y=d,this.graphModel.hasTruncatedValues()){const e={x:1,y:d(1e3),width:s,height:c-d(1e3)};this.addTruncatedShield(e,i)}this.graphModel.afterAnnotations(this.transformAndAddAnnotations)},addAxes(e,t,i){let n;n="bytes"===this.graphModel.config.unit?e=>j()(e).format({optionalMantissa:!0,output:"byte",base:"decimal",mantissa:1}).toUpperCase():e=>j()(e).format({optionalMantissa:!0,mantissa:1,average:!0}).toUpperCase();const a=t.range()[0],o=A.LL(e),s=A.y4(t).ticks(7).tickFormat(n),r=i.append("g").call(s).attr("class","yAxis").style("font-size","13px").style("font-family",'Lato, "Open Sans"');i.append("g").attr("transform",`translate(0,${a})`).call(o).style("font-size","13px").style("font-family",'Lato, "Open Sans"').selectAll("text").style("text-anchor","end").attr("class","xAxisLabel").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),i.attr("transform",`translate(${r.node().getBBox().width},${this.margin.top})`)},addTruncatedShield(e,t){t.append("rect").attr("x",1).attr("y",e.y).attr("width",e.width).attr("height",e.height).attr("fill","white"),t.append("line").attr("x1",1).attr("y1",e.y).attr("x2",e.width).attr("y2",e.y).attr("style","stroke:#990000; stroke-width:2").attr("stroke-dasharray","2"),t.append("text").attr("width",e.width).attr("height",e.height).attr("x",10).attr("y",e.y+20).attr("style","stroke:#990000; stroke-width: 0.5; font-size: 12px").text("Values under 1000 are not reported to preserve accuracy")},onGraphMouseMove(e){const t=e.pageX-this.$el.getBoundingClientRect().left-h.Ys(".yAxis").node().getBBox().width;h.Ys("line").style("display","unset"),h.Ys("line").attr("x1",t).attr("x2",t)},onGraphMouseOut(e){Z(".guide").fadeOut(100),this.hoveredPoint=null},addHoverGuide(e,t,i,n){const a=this,o=i.range()[1],s=n.range()[0];this.addGuideLine(e,s);let r=e.selectAll(".pointCircle").data(t).enter().append("g").attr("class","pointCircle");const l=o/t.length+4;r.append("rect").attr("class","hover").attr("x",(e=>i(e.month)-l/2)).attr("y",0).attr("height",s).attr("width",l).on("mousemove",(function(e){Z(this).siblings().show(),a.hoveredPoint=e;const t=a.$el.getBoundingClientRect(),i=a.$parent.$el.getBoundingClientRect(),n=this.getBoundingClientRect(),o=t.height;h.B.layerY>o/2?a.hoveredPointTop=o/4:a.hoveredPointTop=o/4*3,a.hoveredPointLeft=n.left-i.left+l/2,a.hoveredPointRight=t.right-n.right+a.margin.left})).on("mouseout",(function(){Z(this).siblings().hide(),h.B.stopPropagation()})),r.each((function(e){let t=h.Ys(this);P().forEach(e.total,((e,o)=>{a.activeSplitValues.find((e=>e==o))&&t.append("circle").attr("cx",(e=>i(e.month))).attr("cy",(t=>n(e))).attr("r",5).style("display","none")}))}))},addGuideLine(e,t){e.append("line").attr("class","guide").attr("x1",0).attr("x2",0).attr("y1",t).attr("y2",0).style("stroke","gray").style("stroke-width",1)},addAnnotations(e,t){const i=(0,R.Bv)(R.DE,{className:"customCalloutCircle",connector:{end:"arrow",type:"line"},note:{align:"dynamic",lineType:"horizontal"}}),n=(0,R.dQ)().editMode(!1).type(i).annotations(t);e.append("g").attr("class","annotation-group").call(n).on("mouseover",this.onGraphMouseOut)}}},I=(0,r.Z)(V,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"graphContainer"},[e.hoveredPoint?i("div",{staticClass:"line valuePopup",style:{top:e.hoveredPointTop-65+"px",left:e.hoveredPointLeft-80+"px",border:"solid 1px "+e.hoveredPointColor,borderBottom:"solid 3px "+e.hoveredPointColor}},[i("b",[e._v(e._s(e.dateFormat(e.hoveredPoint.month)))]),e._v(" "),e._l(this.selectedValue,(function(t){return i("div",{staticClass:"breakdown"},[i("b",[i("span",{style:{color:t.color}},[e._v(e._s(e._f("capitalize")(e.$t(e.geti18nBreakdownKey(t.name)))))])]),e._v(" "),i("span",[e._v(e._s(e._f("thousands")(t.value)))])])}))],2):e._e(),e._v(" "),i("div",{staticClass:"big line chart"},[i("svg",[i("g",{staticClass:"graph"})])])])}),[],!1,null,null,null).exports,z={name:"table-chart",props:["graphModel"],components:{TableNameCell:i(7168).Z},data:()=>({currentPage:1}),mounted(){this.setColors()},updated(){this.setColors()},computed:Object.assign((0,a.Se)("dimensions",["splittingDimension","activeSplitValues","colorForDimensionValue"]),{isTop(){return"top"===this.graphModel.config.structure},isTimeseries(){return"timeseries"===this.graphModel.config.structure},isMap(){return"map"===this.graphModel.config.type},mobile(){return"mobile"===this.$mq},itemsToShow(){const e=this.mobile?10:20;return this.currentPage*e},length(){return this.graphModel.graphData?this.graphModel.graphData.length:0},valuesShown(){if(!this.length)return[];const e=this.isTop?0:Math.max(this.length-this.itemsToShow,0),t=this.isTop?this.itemsToShow:this.length,i=this.graphModel.graphData.slice(e,t);return this.isTop?i:i.reverse()},loadMoreRows(){return this.length>this.itemsToShow},granularityFormat(){return p.Z.getDateFormatFromData(this.graphModel.graphData)}}),methods:{getValue:(e,t)=>e.truncated&&0===e.total[t.key]?"(truncated)":n.Z.filter("thousands")(e.total[t.key]),setColors(){const e=this.$el.querySelectorAll("th");for(let t=0;t<e.length;t++)e[t].style=`background-color: ${this.graphModel.config.darkColor};`},advancePage(){this.currentPage++},geti8nBreakdownModeKey(e,t){return e&&"total"!==e?`metrics-${this.graphModel.metricId}-breakdowns-${e}-values-${t}-name`:"general-total"}}},U=(0,r.Z)(z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("table",{staticClass:"ui table unstackable",class:e.graphModel.config.area},[e.loadMoreRows?i("caption",{staticClass:"morerows",attrs:{align:"bottom",colspan:"10"},on:{click:function(t){return e.advancePage()}}},[e._v(e._s(e.$t("charts-table-load_more_rows")))]):e._e(),e._v(" "),i("thead",[e.isTimeseries?i("tr",[i("th",[e._v(e._s(e._f("capitalize")(e.$t("general-date"))))]),e._v(" "),e._l(e.splittingDimension.values,(function(t){return t.on?i("th",{staticClass:"right aligned"},[e._v(e._s(e._f("capitalize")(e.$t(e.geti8nBreakdownModeKey(e.splittingDimension.key,t.key)))))]):e._e()}))],2):e._e(),e._v(" "),e.isTop?i("tr",[i("th",{staticClass:"right aligned"},[e._v(e._s(e._f("capitalize")(e.graphModel.config.valueTitle||e.graphModel.config.value)))]),e._v(" "),i("th",[e._v(e._s(e._f("capitalize")(e.$t("general-name"))))])]):e._e()]),e._v(" "),i("tbody",[e._l(e.valuesShown,(function(t){return e.isTimeseries?i("tr",[i("td",[e._v(e._s(e._f("ISOdateUTC")(t.month,e.granularityFormat)))]),e._v(" "),e._l(e.splittingDimension.values,(function(n){return n.on?i("td",{staticClass:"right aligned"},[e._v("\n                "+e._s(e.getValue(t,n)))]):e._e()}))],2):e._e()})),e._v(" "),e._l(e.valuesShown,(function(t,n){return e.isTop?i("tr",[e.isMap?i("td",{staticClass:"right aligned"},[e._v(e._s(e._f("kmb")(t.total.total)))]):i("td",{staticClass:"right aligned"},[e._v(e._s(e._f("thousands")(t.total.total)))]),e._v(" "),i("table-name-cell",{attrs:{nameKey:e.graphModel.config.key,index:n,value:t}})],1):e._e()}))],2)])])}),[],!1,null,"2e6bba28",null).exports,q={name:"filter-value-list",computed:Object.assign((0,a.rn)(["metric"]),{radioMode(){return!this.dimension.allValue}}),props:["dimension"],methods:Object.assign((0,a.nv)("dimensions",["disableDimensionValue","enableDimensionValue"]),{geti8nDimensionValueKey(e,t){return`metrics-${this.metric}-breakdowns-${e}-values-${t}-name`},toggleFilterValue(e,t){const i=this.dimension.values.find((t=>t.key===e)),n={dimensionKey:this.dimension.key,filterValueKey:e};i.on&&!this.radioMode?this.disableDimensionValue(n):this.enableDimensionValue(n)}})},W={name:"dimension-card",components:{FilterValueList:(0,r.Z)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter values"},e._l(e.dimension.values,(function(t){return i("div",{directives:[{name:"hint",rawName:"v-hint:breakdown.e",value:t.key,expression:"value.key",arg:"breakdown",modifiers:{e:!0}}],key:t.key,staticClass:"ui checkbox",class:{radio:e.radioMode,checked:t.on},on:{click:function(i){return e.toggleFilterValue(t.key,i)}}},[e.radioMode?i("input",{attrs:{type:"radio"},domProps:{checked:t.on}}):i("input",{attrs:{type:"checkbox"},domProps:{checked:t.on}}),e._v(" "),i("label",[e._v(e._s(e.$t(e.geti8nDimensionValueKey(e.dimension.key,t.key))))])])})),0)}),[],!1,null,null,null).exports,WikiButton:l},computed:Object.assign((0,a.rn)(["metric"]),{}),props:["dimension","splittable"],methods:Object.assign((0,a.nv)("dimensions",["disableSplit","enableSplit"]),{geti8nDimensionKey(e){return`metrics-${this.metric}-breakdowns-${e}-name`},toggleSplitting(){this.dimension.splitting?this.disableSplit(this.dimension.key):this.enableSplit(this.dimension.key)}})},G=(0,r.Z)(W,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dimension selector card"},[i("div",{staticClass:"title"},[i("i",{staticClass:"filter alternate icon small"}),e._v(" Filter by "),i("b",[e._v(e._s(e.$t(e.geti8nDimensionKey(e.dimension.key))))])]),e._v(" "),i("filter-value-list",{attrs:{dimension:e.dimension}}),e._v(" "),e.splittable?i("wiki-button",{directives:[{name:"hint",rawName:"v-hint:help",value:"split",expression:"'split'",arg:"help"}],staticClass:"special",class:{pressed:e.dimension.splitting},on:{click:function(t){return e.toggleSplitting()}}},[e._v("\n        Split by this dimension\n    ")]):e._e()],1)}),[],!1,null,"2e1a1704",null).exports,K={name:"dimension-selector-card",components:{WikiButton:l},props:["dimensions"],computed:Object.assign((0,a.rn)(["metric"]),{}),methods:Object.assign((0,a.nv)("dimensions",["disableDimension","enableDimension"]),{geti8nDimensionKey(e){return`metrics-${this.metric}-breakdowns-${e}-name`},toggleDimension(e){e.active?this.disableDimension(e.key):this.enableDimension(e.key)}})},X={name:"filter-split",components:{DimensionCard:G,DimensionSelectorCard:(0,r.Z)(K,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dimension selector card"},[e._m(0),e._v(" "),e._l(e.dimensions,(function(t){return i("div",{key:t.name},[i("table",{staticClass:"dimension row"},[i("tr",[i("td",[i("wiki-button",{directives:[{name:"hint",rawName:"v-hint:help",value:"toggle-dimension",expression:"'toggle-dimension'",arg:"help"}],class:{pressed:t.active},on:{click:function(i){return e.toggleDimension(t)}}},[e._v("\n                        "+e._s(e.$t(e.geti8nDimensionKey(t.key)))+"\n                    ")])],1),e._v(" "),i("td",[t.splitting?i("div",{staticClass:"numberCircle"},[e._v("S")]):e._e()])])])])}))],2)}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("i",{staticClass:"filter alternate icon small"}),e._v(" Dimensions\n    ")])}],!1,null,"5978ca12",null).exports},computed:Object.assign((0,a.rn)(["metric"]),(0,a.Se)("dimensions",["dimensions"]),{activeDimensions(){return this.dimensions.filter((e=>e.active))},dimensionIsSplittable(){return"top"!==c.Z.metricConfig(this.metric).structure}}),methods:(0,a.nv)("dimensions",["disableDimension","enableDimension","enableSplit","disableSplit"])},Y=(0,r.Z)(X,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filtersplit"},[e.dimensions.length>1?i("dimension-selector-card",{attrs:{dimensions:e.dimensions}}):e._e(),e._v(" "),e.activeDimensions.length>0?i("transition-group",{attrs:{name:"cardfade",tag:"div"}},e._l(e.activeDimensions,(function(t){return i("dimension-card",{key:t.key,staticClass:"cardfade-item",attrs:{dimension:t,splittable:e.dimensionIsSplittable}})})),1):e._e()],1)}),[],!1,null,null,null).exports;var Q=i(5144),J=i(4818),ee=(i(5754),i(9755));const te={name:"graph-panel",components:{ArrowIcon:u.Z,SimpleLegend:F,BarChart:L,LineChart:I,TableChart:U,MapChart:()=>Promise.all([i.e(813),i.e(137)]).then(i.bind(i,9119)),StatusOverlay:o.Z,MetricsDropdown:m,WikiSelector:s.Z,WikiTimeBar:T,WikiButton:l,FilterSplit:Y},props:["graphModel","overlayMessage","annotations","annotationsLink"],mounted(){this.setupScrollListener()},destroyed(){ee(document.body).off("scroll")},data:()=>({scrollOffset:0}),computed:Object.assign((0,a.rn)(["selectingTime","detail"]),(0,a.rn)("detail",["fullscreen","chartType","timeRange","dimensionsModalEnabled"]),(0,a.Se)("dimensions",["splittingDimension","filteredInfo","filtering"]),{chartTypes:function(){return this.graphModel?c.Z.getChartTypes(this.graphModel.config):[]},chartIcon:function(){return c.Z.availableChartTypes[this.chartType].icon},chartComponent:function(){return this.chartType+"-chart"},aggregate:function(){return this.graphModel&&this.graphModel.getAggregate()},metricId:function(){return this.graphModel.metricId},unit:function(){if(this.graphModel.config.unit)return this.graphModel.config.unit},lastMonth:function(){if(this.graphModel&&this.graphModel.graphData.length>0)return P().last(this.graphModel.graphData).month},mobile:function(){return"mobile"===this.$mq},permalinkURL:function(){if(this.graphModel.graphData.length>0){const e=Object.assign({},this.detail),t=new Date(this.graphModel.graphData[0].timeRange.start),i=new Date(this.graphModel.graphData[this.graphModel.graphData.length-1].timeRange.end);"monthly"===this.detail.granularity&&i.setUTCMonth(i.getUTCMonth()+1),e.timeRange={start:t,end:i};const n=window.location.href,a=Q.Z.writeToURL(e);return n.slice(0,n.lastIndexOf("/")+1)+a}},wikistats1URL(){return this.graphModel.config.wikistats1URL}}),methods:{changeChart(e){this.$store.commit("detail/chartType",{chartType:e.chart})},toggleFullscreen(){this.$store.commit("detail/fullscreen",{fullscreen:!this.fullscreen})},download(){let e=J.Sf(this.graphModel.downloadData()),t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e],{type:"text/csv"})),t.download=this.graphModel.config.name+".csv",document.body.appendChild(t),t.click(),document.body.removeChild(t)},copyPermalink(){this.$refs.permalinkText.select(),document.execCommand("copy")},enableDimensionsModal(){this.$store.commit("detail/dimensionsModalEnabled",{enabled:!0})},setupScrollListener(){const e=this.$el.getBoundingClientRect();let t=e.y,i=e.height;ee(document.body).on("scroll",(({target:e})=>{if("table"===this.chartType)return;const n=e.scrollTop,a=this.$el.getBoundingClientRect(),o=t+a.height,s=Math.min(o-i-300,Math.max(0,n-t));this.scrollOffset=Math.max(0,s)}))},translatedFilteredInfo(){const e=this.filteredInfo;return Object.keys(e).map((t=>this.$t(`metrics-${this.metricId}-breakdowns-${t}-name`)+": "+e[t].map((e=>this.$t(`metrics-${this.metricId}-breakdowns-${t}-values-${e}-name`))).join(", "))).join("\n")}}},ie=(0,r.Z)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"graph panel",class:{desktop:!e.mobile},style:{top:e.scrollOffset+"px"}},[e.mobile?n("div",{staticClass:"metrics"},[e.mobile?n("metrics-dropdown",{attrs:{metric:e.graphModel.config,granularity:e.graphModel.granularity}}):e._e()],1):e._e(),e._v(" "),e.mobile?n("wiki-time-bar",{attrs:{graphModel:e.graphModel}}):e._e(),e._v(" "),n("div",{staticClass:"ui clearing basic segment graph"},[n("div",[e.mobile?e._e():n("h2",{staticClass:"ui left floated header"},[n("a",{directives:[{name:"hint",rawName:"v-hint:raw",value:e.graphModel.config.tooltip,expression:"graphModel.config.tooltip",arg:"raw"}],staticClass:"metric link",attrs:{href:e.graphModel.config.infoUrl,target:"_blank"}},[e._v("\n                    "+e._s(e.$t("metrics-"+e.metricId+"-name")||e.$t("graph_panel-no_data_yet"))+"\n                ")]),e._v(" "),e.filtering?n("span",{directives:[{name:"hint",rawName:"v-hint:raw",value:e.translatedFilteredInfo,expression:"translatedFilteredInfo",arg:"raw"}],staticClass:"filter indicator subdued"},[e._v("Filtered")]):e._e()]),e._v(" "),n("div",{staticClass:"ui right floated basic fudge segment"},[!e.mobile&&e.splittingDimension&&"table-chart"!==e.chartComponent&&"map-chart"!==e.chartComponent?n("simple-legend",{staticClass:"simple legend",attrs:{dimension:e.splittingDimension,graphModel:e.graphModel}}):e._e(),e._v(" "),e.mobile?e._e():n("div",{staticClass:"ui right floated icon buttons"},[n("button",{directives:[{name:"hint",rawName:"v-hint:help",value:"download",expression:"'download'",arg:"help"}],staticClass:"ui icon button",on:{click:e.download}},[n("i",{staticClass:"download icon"})]),e._v(" "),n("div",{directives:[{name:"hint",rawName:"v-hint:help",value:"permalink",expression:"'permalink'",arg:"help"}],staticClass:"ui icon button simple dropdown"},[n("i",{staticClass:"chain icon"}),e._v(" "),n("div",{staticClass:"menu permalink"},[n("div",{staticClass:"ui right labeled input"},[n("input",{ref:"permalinkText",attrs:{type:"text",readonly:""},domProps:{value:e.permalinkURL}}),e._v(" "),n("button",{directives:[{name:"hint",rawName:"v-hint:help",value:"copy",expression:"'copy'",arg:"help"}],staticClass:"ui icon button",on:{click:e.copyPermalink}},[n("i",{staticClass:"copy icon"})])])])]),e._v(" "),n("div",{directives:[{name:"hint",rawName:"v-hint:help",value:"change-chart",expression:"'change-chart'",arg:"help"}],staticClass:"ui simple dropdown right labeled icon button"},[n("i",{staticClass:"ui dropdown icon"}),e._v(" "),n("span",[n("i",{staticClass:"chart icon",class:e.chartIcon})]),e._v(" "),n("div",{staticClass:"menu"},e._l(e.chartTypes,(function(t){return n("div",{key:t.chart,staticClass:"item",on:{click:function(i){return e.changeChart(t)}}},[n("i",{staticClass:"chart icon",class:t.icon}),e._v("\n                                 "+e._s(e._f("capitalize")(e.$t("charts-"+t.chart)))+"\n                             ")])})),0)])])],1),e._v(" "),n(e.chartComponent,{tag:"component",attrs:{graphModel:e.graphModel}}),e._v(" "),n("div",{staticClass:"ui center aligned basic segment"},[n("div",{staticClass:"filtersplit button container"},[e.mobile?n("wiki-button",{on:{click:e.enableDimensionsModal}},[e._v("\n                        Filter and split this metric\n                    ")]):e._e()],1),e._v(" "),e.graphModel.hasAggregate()?n("h5",[e._v("\n                    "+e._s(e.graphModel.getAggregateLabel())+":\n                    "+e._s(e._f("bytesOrKmb")(e.aggregate,e.unit))+"\n                ")]):e._e(),e._v(" "),n("p",[e._v(e._s(e.$t("metrics-"+e.metricId+"-description"))+".\n                    "),n("a",{directives:[{name:"hint",rawName:"v-hint:raw",value:e.graphModel.config.tooltip,expression:"graphModel.config.tooltip",arg:"raw"}],staticClass:"metric link",attrs:{href:e.graphModel.config.infoUrl,target:"_blank"}},[e._v("\n                        "+e._s(e.$t("graph_panel-more_info"))+"\n                    ")])]),e._v(" "),n("i18n",{attrs:{path:"graph_panel-add_annotations_link",tag:"p"}},[n("a",{directives:[{name:"hint",rawName:"v-hint:help",value:"annotations",expression:"'annotations'",arg:"help"}],staticClass:"metric link",attrs:{href:e.annotationsLink,target:"_blank"}},[e._v(e._s(e.$t("graph_panel-annotations_link_action")))])]),e._v(" "),n("p",[e.wikistats1URL?n("a",{directives:[{name:"hint",rawName:"v-hint:wikistats1Metric.s",arg:"wikistats1Metric",modifiers:{s:!0}}],staticClass:"metric link wikistats1",attrs:{href:e.wikistats1URL,target:"_blank"}},[n("img",{staticClass:"wikimedia-logo",attrs:{src:i(3361),alt:"wikimedia-logo"}}),e._v(" "+e._s(e.$t("graph_panel-wikistats1_counterpart"))+"\n                    ")]):e._e()])],1)],1),e._v(" "),e.overlayMessage?n("status-overlay",{attrs:{overlayMessage:e.overlayMessage,project:e.graphModel.project,metricName:e.$t("metrics-"+e.graphModel.metricId+"-name")}}):e._e()],1),e._v(" "),e.mobile||e.overlayMessage?e._e():n("div",{directives:[{name:"hint",rawName:"v-hint:help",value:e.fullscreen?"minimize":"maximize",expression:"fullscreen ? 'minimize' : 'maximize'",arg:"help"}],staticClass:"ui right floated icon button",on:{click:e.toggleFullscreen}},[n("i",{staticClass:"ui icon",class:{expand:!e.fullscreen,compress:e.fullscreen}})])],1)}),[],!1,null,null,null).exports;var ne=i(1801);i(462),i(3317);const ae={name:"detail-sidebar",props:["otherMetrics","graphModel"],data:()=>({wiki:{language:{}}}),components:{WikiSelector:s.Z,RouterLink:ne.Z,FilterSplit:Y,WikiButton:l},computed:Object.assign((0,a.Se)(["project"]),(0,a.rn)(["area","metric","selectingTime"]),(0,a.rn)("detail",["timeRange"]),{formattedDateRange(){const e=this.timeRange.timeKeyword;return e?this.$t(`time_range-${e}`):this.graphModel.getFormattedTimeRange()}}),methods:{toggleTimeSelection(){const e=!this.selectingTime;this.$store.commit("selectingTime",{selectingTime:e})},switchGranularity(){const e=this.graphModel.availableGranularities(),t=e.indexOf(this.graphModel.granularity),i=e[(t+1)%e.length];this.$store.commit("detail/granularity",{granularity:i})}}},oe=(0,r.Z)(ae,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"left panel sidebar"},[i("div",{staticClass:"wikis"},[i("h3",{staticClass:"header"},[e._v("Wiki")]),e._v(" "),i("wiki-selector",{attrs:{single:!1}})],1),e._v(" "),e.graphModel?i("wiki-button",{staticClass:"time toggle",on:{click:e.toggleTimeSelection}},[i("i",{staticClass:"calendar alternate icon"}),e._v("\n        "+e._s(e.formattedDateRange)+"\n    ")]):e._e(),e._v(" "),e.graphModel&&e.graphModel.graphData?i("wiki-button",{staticClass:"time",class:{disabled:1===e.graphModel.availableGranularities().length},on:{click:e.switchGranularity}},[e._v("\n        "+e._s(e.$t("granularities-"+e.graphModel.granularity))+"\n    ")]):e._e(),e._v(" "),i("div",{staticClass:"ui clearing divider"}),e._v(" "),i("h3",{staticClass:"header"},[e._v(e._s(e.$t("detail_sidebar-metrics")))]),e._v(" "),i("div",{staticClass:"metricsList"},e._l(e.otherMetrics,(function(t){return i("router-link",{key:t.name,attrs:{to:{project:e.project,area:e.area,metric:t.name}}},[i("wiki-button",{class:{pressed:t.name===e.metric}},[e._v("\n                "+e._s(e.$t("metrics-"+t.name+"-name"))+"\n            ")])],1)})),1),e._v(" "),i("div",{staticClass:"ui clearing divider"}),e._v(" "),i("h3",{directives:[{name:"hint",rawName:"v-hint:filterAndSplit",arg:"filterAndSplit"}],staticClass:"header"},[e._v("Filter/split")]),e._v(" "),e.graphModel?i("filter-split"):e._e()],1)}),[],!1,null,null,null).exports,se={name:"time-preset-bar",props:["structure"],data:()=>({rangeNames:{timeseries:[{name:"all",granularity:"monthly"},{name:"2-year",granularity:"monthly"},{name:"1-year",granularity:"monthly"},{name:"3-month",granularity:"daily"},{name:"1-month",granularity:"daily"}],top:[{name:"last-month",granularity:"monthly"}]}}),computed:(0,a.rn)("detail",["timeRange"]),methods:{formatRangeName:e=>e.name.replace("-"," "),selectPeriod(e){const t=new f.Z(e.name);this.$store.commit("detail/timeRange",{timeRange:t}),this.$store.commit("detail/granularity",{granularity:e.granularity})}}},re=(0,r.Z)(se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"timepresetbar ui equal width grid"},e._l(e.rangeNames[e.structure],(function(t){return i("div",{staticClass:"column"},[i("div",{staticClass:"ui label",class:{selected:t.name===e.timeRange.timeKeyword},on:{click:function(i){return e.selectPeriod(t)}}},[e._v(e._s(e.formatRangeName(t)))])])})),0)}),[],!1,null,"0e243fd0",null).exports;var le=i(9755);const ce={name:"time-selector-tooltip",props:["graphModel"],components:{TimeSelector:x,TimePresetBar:re},data:()=>({gracePeriod:null}),computed:Object.assign((0,a.rn)(["selectingTime"]),(0,a.rn)("detail",["timeRange"]),{timeSelectorPos(){const e=le(".left.panel .time.toggle"),t=e.width();return le(".timeselectorBox"),{top:e.position().top-22,left:e.position().left+t+40}}}),methods:{timeChanged(e){const t=new f.Z(e);if("all"===e){const e=this.graphModel.config.knownStart;t.start=new Date(e)}this.$store.commit("detail/timeRange",{timeRange:t})},granularityChanged(e){this.$store.commit("detail/granularity",{granularity:e})},timeselectorBoxOut(e){this.gracePeriod=setTimeout((()=>{this.gracePeriod=null;const t=le(".timeselectorBox")[0];le(e.relatedTarget).parents().get().includes(t)||le(t).fadeOut(200,(()=>{this.$store.commit("selectingTime",{selectingTime:!1})}))}),500)},timeselectorBoxIn(){this.gracePeriod&&(clearTimeout(this.gracePeriod),this.gracePeriod=null)}}},de=(0,r.Z)(ce,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"timeselectorBox",style:{position:"absolute",top:e.timeSelectorPos.top+"px",left:e.timeSelectorPos.left+"px"},on:{mouseout:e.timeselectorBoxOut,mousemove:e.timeselectorBoxIn}},[i("p",{staticClass:"description"},[e._v("Select a time period for this metric:")]),e._v(" "),i("time-selector",{attrs:{width:400,height:25,graphModel:e.graphModel,mode:e.graphModel.config.structure,leftBound:new Date(e.graphModel.config.knownStart||"2001-01-01"),rightBound:new Date(e.graphModel.config.knownEnd||new Date),startDate:e.timeRange.start,endDate:e.timeRange.end,mainColor:e.graphModel.config.darkColor,secondaryColor:e.graphModel.config.lightColor},on:{"new-time":e.timeChanged}}),e._v(" "),i("time-preset-bar",{attrs:{structure:e.graphModel.config.structure,timeRange:e.timeRange,graphModel:e.graphModel},on:{"new-time":e.timeChanged,"new-granularity":e.granularityChanged}})],1)}),[],!1,null,null,null).exports;var me=i(4480),ue=i(9755);const he={name:"filter-split-modal",components:{FilterSplit:Y},methods:{disableModal(){this.$store.commit("detail/dimensionsModalEnabled",!1)}},mounted(){ue(document).on("touchstart",(e=>{this.$el.contains(e.target)||this.$store.commit("detail/dimensionsModalEnabled",!1),e.stopPropagation()}))},destroyed(){ue(document).off("touchstart")}},ge=(0,r.Z)(he,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filtersplit modal"},[i("div",{staticClass:"header"},[i("h3",[e._v("Filter/split")]),e._v(" "),i("i",{staticClass:"close icon",on:{click:e.disableModal}})]),e._v(" "),i("div",{staticClass:"container"},[i("filter-split")],1)])}),[],!1,null,null,null).exports;var pe=i(5377),fe=i(9755);const ve={name:"detail",components:{GraphPanel:ie,DetailSidebar:oe,MetricsDropdown:m,FilterSplitModal:ge,TimeSelectorTooltip:de},mixins:[pe.Z],data:()=>({graphModel:null,defaultMetrics:{contributing:"active-editors",reading:"total-pageviews",content:"total-articles"}}),computed:Object.assign((0,a.Se)(["project"]),(0,a.rn)(["area","metric","selectingTime"]),(0,a.rn)("dimensions",["dimensions"]),(0,a.rn)("detail",["fullscreen","breakdown","timeRange","granularity","dimensionsModalEnabled"]),{metricParameters(){return{project:this.project,area:this.area,metric:this.metric,metricConfig:c.Z.metricConfig(this.metric)}},dataParameters(){return{breakdown:this.graphModel?this.graphModel.activeBreakdown:null}},mobile(){return"mobile"===this.$mq},compact(){return["mobile","compact"].indexOf(this.$mq)>-1},annotationsLink(){return c.Z.annotationHumanPath(this.metric)},otherMetrics(){return Object.keys(c.Z.metrics).filter((e=>c.Z.metrics[e].area===this.area)).map((e=>Object.assign({},c.Z.metrics[e],{name:e})))},overlayMessage(){return this.graphModel&&this.graphModel.status}}),watch:{granularity(){this.graphModel.setGranularity(this.granularity),this.$store.commit("detail/timeRange",{timeRange:this.timeRange})},overlayMessage(){this.overlayMessage&&this.overlayMessage!==o.Z.LOADING&&this.$store.commit("detail/fullscreen",{fullscreen:!1})},timeRange(){this.graphModel.setTimeRange(this.timeRange)},project(){this.graphModel.setProject(this.project)},dataParameters:{handler(){this.$store.commit("detail/breakdown",{breakdown:this.graphModel.activeBreakdown}),this.loadData()},deep:!0},dimensions:{handler(){this.loadData()},deep:!0}},mounted(){fe("body").scrollTop(0),n.Z.nextTick((()=>this.buildGraphModel()))},methods:{buildGraphModel(e){const t=c.Z.metricConfig(this.metric);if(this.graphModel=new me.Z(this.project,this.metric),this.graphModel.granularity=this.granularity,this.graphModel.dimensions=this.dimensions,t.knownEnd){const e=new f.Z([t.knownStart,t.knownEnd]);this.$store.commit("detail/timeRange",{timeRange:e}),this.graphModel.timeRange=e}if(this.timeRange.isOutOfMetricBounds(t)){const e=f.Z.getDefaultTimeRange(t);this.$store.commit("detail/timeRange",{timeRange:e}),this.graphModel.timeRange=e}this.breakdown&&this.graphModel.activateBreakdownIfAvailable(this.breakdown),this.graphModel.timeRange=this.timeRange},loadData(){this.graphModel.loadData({annotations:!0},this.dimensions)}}},be=(0,r.Z)(ve,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{staticClass:"detail container",class:{area:e.area,fullscreen:e.fullscreen}},[e.compact||e.fullscreen?e._e():i("detail-sidebar",{attrs:{otherMetrics:e.otherMetrics,graphModel:e.graphModel}}),e._v(" "),e.graphModel&&e.graphModel.graphData?i("graph-panel",{attrs:{granularity:e.granularity,graphModel:e.graphModel,annotationsLink:e.annotationsLink,overlayMessage:e.overlayMessage}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"filter-modal-transition"}},[e.dimensionsModalEnabled?i("filter-split-modal",{staticClass:"filtersplitmodal"}):e._e()],1),e._v(" "),!e.mobile&&e.selectingTime?i("time-selector-tooltip",{attrs:{graphModel:e.graphModel}}):e._e()],1)}),[],!1,null,null,null).exports},3317:(e,t,i)=>{!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var a,o=e(this),s=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each((function(){var m,u,h,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=g.selector,f=g.namespace,v=g.className,b=g.error,y="."+f,w="module-"+f,C=o.selector||"",_="ontouchstart"in i.documentElement?"touchstart":"click",x=e(this),M=this,k=x.data(w);h={preinitialize:function(){h.is.dimmer()?(u=x.parent(),m=x):(u=x,m=h.has.dimmer()?g.dimmerName?u.find(p.dimmer).filter("."+g.dimmerName):u.find(p.dimmer):h.create())},initialize:function(){h.debug("Initializing dimmer",g),h.bind.events(),h.set.dimmable(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),k=h,x.data(w,k)},destroy:function(){h.verbose("Destroying previous module",m),h.unbind.events(),h.remove.variation(),u.off(y)},bind:{events:function(){"hover"==g.on?u.on("mouseenter"+y,h.show).on("mouseleave"+y,h.hide):"click"==g.on&&u.on(_+y,h.toggle),h.is.page()&&(h.debug("Setting as a page dimmer",u),h.set.pageDimmer()),h.is.closable()&&(h.verbose("Adding dimmer close event",m),u.on(_+y,p.dimmer,h.event.click))}},unbind:{events:function(){x.removeData(w),u.off(y)}},event:{click:function(t){h.verbose("Determining if event occurred on dimmer",t),(0===m.find(t.target).length||e(t.target).is(p.content))&&(h.hide(),t.stopImmediatePropagation())}},addContent:function(t){var i=e(t);h.debug("Add content to dimmer",i),i.parent()[0]!==m[0]&&i.detach().appendTo(m)},create:function(){var t=e(g.template.dimmer(g));return g.dimmerName&&(h.debug("Creating named dimmer",g.dimmerName),t.addClass(g.dimmerName)),t.appendTo(u),t},show:function(t){t=e.isFunction(t)?t:function(){},h.debug("Showing dimmer",m,g),h.set.variation(),h.is.dimmed()&&!h.is.animating()||!h.is.enabled()?h.debug("Dimmer is already shown or disabled"):(h.animate.show(t),g.onShow.call(M),g.onChange.call(M))},hide:function(t){t=e.isFunction(t)?t:function(){},h.is.dimmed()||h.is.animating()?(h.debug("Hiding dimmer",m),h.animate.hide(t),g.onHide.call(M),g.onChange.call(M)):h.debug("Dimmer is not visible")},toggle:function(){h.verbose("Toggling dimmer visibility",m),h.is.dimmed()?h.is.closable()&&h.hide():h.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==n&&m.transition("is supported")?(g.useFlex?(h.debug("Using flex dimmer"),h.remove.legacy()):(h.debug("Using legacy non-flex dimmer"),h.set.legacy()),"auto"!==g.opacity&&h.set.opacity(),m.transition({displayType:g.useFlex?"flex":"block",animation:(g.transition.showMethod||g.transition)+" in",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.set.dimmed()},onComplete:function(){h.set.active(),t()}})):(h.verbose("Showing dimmer animation with javascript"),h.set.dimmed(),"auto"==g.opacity&&(g.opacity=.8),m.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(h.get.duration(),g.opacity,(function(){m.removeAttr("style"),h.set.active(),t()})))},hide:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==n&&m.transition("is supported")?(h.verbose("Hiding dimmer with css"),m.transition({displayType:g.useFlex?"flex":"block",animation:(g.transition.hideMethod||g.transition)+" out",queue:!1,duration:h.get.duration(),useFailSafe:!0,onComplete:function(){h.remove.dimmed(),h.remove.variation(),h.remove.active(),t()}})):(h.verbose("Hiding dimmer with javascript"),m.stop().fadeOut(h.get.duration(),(function(){h.remove.dimmed(),h.remove.active(),m.removeAttr("style"),t()})))}},get:{dimmer:function(){return m},duration:function(){return h.is.active()?g.transition.hideDuration||g.duration.hide||g.duration:g.transition.showDuration||g.duration.show||g.duration}},has:{dimmer:function(){return g.dimmerName?x.find(p.dimmer).filter("."+g.dimmerName).length>0:x.find(p.dimmer).length>0}},is:{active:function(){return m.hasClass(v.active)},animating:function(){return m.is(":animated")||m.hasClass(v.animating)},closable:function(){return"auto"==g.closable?"hover"!=g.on:g.closable},dimmer:function(){return x.hasClass(v.dimmer)},dimmable:function(){return x.hasClass(v.dimmable)},dimmed:function(){return u.hasClass(v.dimmed)},disabled:function(){return u.hasClass(v.disabled)},enabled:function(){return!h.is.disabled()},page:function(){return u.is("body")},pageDimmer:function(){return m.hasClass(v.pageDimmer)}},can:{show:function(){return!m.hasClass(v.disabled)}},set:{opacity:function(e){var t=m.css("background-color"),i=t.split(","),n=i&&i.length>=3;e=0===g.opacity?0:g.opacity||e,n?(i[2]=i[2].replace(")",""),i[3]=e+")",t=i.join(",")):t="rgba(0, 0, 0, "+e+")",h.debug("Setting opacity to",e),m.css("background-color",t)},legacy:function(){m.addClass(v.legacy)},active:function(){m.addClass(v.active)},dimmable:function(){u.addClass(v.dimmable)},dimmed:function(){u.addClass(v.dimmed)},pageDimmer:function(){m.addClass(v.pageDimmer)},disabled:function(){m.addClass(v.disabled)},variation:function(e){(e=e||g.variation)&&m.addClass(e)}},remove:{active:function(){m.removeClass(v.active)},legacy:function(){m.removeClass(v.legacy)},dimmed:function(){u.removeClass(v.dimmed)},disabled:function(){m.removeClass(v.disabled)},variation:function(e){(e=e||g.variation)&&m.removeClass(e)}},setting:function(t,i){if(h.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,g,t);else{if(i===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],i):g[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];h[t]=i}},debug:function(){!g.silent&&g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){g.silent||(h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,i;g.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=g.name+":",i=0;s=!1,clearTimeout(h.performance.timer),e.each(r,(function(e,t){i+=t["Execution Time"]})),t+=" "+i+"ms",C&&(t+=" '"+C+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==n||console.table!==n)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,(function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")})),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,r,l,c=k;return i=i||d,o=M||o,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,(function(i,a){var o=i!=s?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[o])&&i!=s)c=c[o];else{if(c[o]!==n)return r=c[o],!1;if(!e.isPlainObject(c[a])||i==s)return c[a]!==n?(r=c[a],!1):(h.error(b.method,t),!1);c=c[a]}}))),e.isFunction(r)?l=r.apply(o,i):r!==n&&(l=r),Array.isArray(a)?a.push(l):a!==n?a=[a,l]:l!==n&&(a=l),r}},h.preinitialize(),c?(k===n&&h.initialize(),h.invoke(l)):(k!==n&&k.invoke("destroy"),h.initialize())})),a!==n?a:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,useFlex:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},displayLoader:!1,loaderText:!1,loaderVariation:"",onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",legacy:"legacy",pageDimmer:"page",show:"show",loader:"ui loader"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(t){var i,n=e("<div/>").addClass("ui dimmer");return t.displayLoader&&(i=e("<div/>").addClass(t.className.loader).addClass(t.loaderVariation),t.loaderText&&(i.text(t.loaderText),i.addClass("text")),n.append(i)),n}}}}(i(9755),window,document)},462:(e,t,i)=>{!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(a){var o,s=e(this),r=e(t),l=e(i),c=e("body"),d=s.selector||"",m=(new Date).getTime(),u=[],h=arguments[0],g="string"==typeof h,p=[].slice.call(arguments,1),f=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each((function(){var s,v,b,y,w,C,_,x,M,k,S,T=e.isPlainObject(a)?e.extend(!0,{},e.fn.modal.settings,a):e.extend({},e.fn.modal.settings),D=T.selector,F=T.className,$=T.namespace,A=T.fields,R=T.error,B="."+$,O="module-"+$,P=e(this),E=e(T.context),j=P.find(D.close),N=this,L=P.hasClass("modal")?P.data(O):n,H=!1,Z="",V="";S={initialize:function(){if(P.hasClass("modal")||(S.create.modal(),e.isFunction(T.onHidden)||(T.onHidden=function(){S.destroy(),P.remove()})),P.addClass(T.class),""!==T.title&&P.find(D.title).html(S.helpers.escape(T.title,T.preserveHTML)).addClass(T.classTitle),""!==T.content&&P.find(D.content).html(S.helpers.escape(T.content,T.preserveHTML)).addClass(T.classContent),S.has.configActions()){var t=P.find(D.actions).addClass(T.classActions);0===t.length?t=e("<div/>",{class:F.actions+" "+(T.classActions||"")}).appendTo(P):t.empty(),T.actions.forEach((function(i){var n=i[A.icon]?'<i class="'+S.helpers.deQuote(i[A.icon])+' icon"></i>':"",a=S.helpers.escape(i[A.text]||"",T.preserveHTML),o=S.helpers.deQuote(i[A.class]||""),s=i[A.click]&&e.isFunction(i[A.click])?i[A.click]:function(){};t.append(e("<button/>",{html:n+a,class:F.button+" "+o,click:function(){!1!==s.call(N,P)&&S.hide()}}))}))}S.cache={},S.verbose("Initializing dimmer",E),S.create.id(),S.create.dimmer(),T.allowMultiple&&S.create.innerDimmer(),T.centered||P.addClass("top aligned"),S.refreshModals(),S.bind.events(),T.observeChanges&&S.observeChanges(),S.instantiate(),T.autoShow&&S.show()},instantiate:function(){S.verbose("Storing instance of modal"),L=S,P.data(O,L)},create:{modal:function(){P=e("<div/>",{class:F.modal}),T.closeIcon&&(j=e("<i/>",{class:F.close}),P.append(j)),""!==T.title&&e("<div/>",{class:F.title}).appendTo(P),""!==T.content&&e("<div/>",{class:F.content}).appendTo(P),S.has.configActions()&&e("<div/>",{class:F.actions}).appendTo(P),E.append(P)},dimmer:function(){var t={debug:T.debug,dimmerName:"modals"},i=e.extend(!0,t,T.dimmerSettings);e.fn.dimmer!==n?(S.debug("Creating dimmer"),y=E.dimmer(i),T.detachable?(S.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",P)):S.set.undetached(),w=y.dimmer("get dimmer")):S.error(R.dimmer)},id:function(){M=(Math.random().toString(16)+"000000000").substr(2,8),x="."+M,S.verbose("Creating unique id for element",M)},innerDimmer:function(){0==P.find(D.dimmer).length&&P.prepend('<div class="ui inverted dimmer"></div>')}},destroy:function(){k&&k.disconnect(),S.verbose("Destroying previous modal"),P.removeData(O).off(B),r.off(x),w.off(x),j.off(B),E.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&((k=new MutationObserver((function(e){S.debug("DOM tree modified, refreshing"),S.refresh()}))).observe(N,{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",k))},refresh:function(){S.remove.scrolling(),S.cacheSizes(),S.can.useFlex()||S.set.modalOffset(),S.set.screenHeight(),S.set.type()},refreshModals:function(){v=P.siblings(D.modal),s=v.add(P)},attachEvents:function(t,i){var n=e(t);i=e.isFunction(S[i])?S[i]:S.toggle,n.length>0?(S.debug("Attaching modal events to element",t,i),n.off(B).on("click"+B,i)):S.error(R.notFound,t)},bind:{events:function(){S.verbose("Attaching events"),P.on("click"+B,D.close,S.event.close).on("click"+B,D.approve,S.event.approve).on("click"+B,D.deny,S.event.deny),r.on("resize"+x,S.event.resize)},scrollLock:function(){y.get(0).addEventListener("touchmove",S.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){y.get(0).removeEventListener("touchmove",S.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)},element:function(){return P},settings:function(){return T}},event:{approve:function(){H||!1===T.onApprove.call(N,e(this))?S.verbose("Approve callback returned false cancelling hide"):(H=!0,S.hide((function(){H=!1})))},preventScroll:function(e){-1!==e.target.className.indexOf("dimmer")&&e.preventDefault()},deny:function(){H||!1===T.onDeny.call(N,e(this))?S.verbose("Deny callback returned false cancelling hide"):(H=!0,S.hide((function(){H=!1})))},close:function(){S.hide()},mousedown:function(i){var n=e(i.target),a=S.is.rtl();(C=n.closest(D.modal).length>0)&&S.verbose("Mouse down event registered inside the modal"),(_=S.is.scrolling()&&(!a&&e(t).outerWidth()-T.scrollbarWidth<=i.clientX||a&&T.scrollbarWidth>=i.clientX))&&S.verbose("Mouse down event registered inside the scrollbar")},mouseup:function(t){if(T.closable)if(C)S.debug("Dimmer clicked but mouse down was initially registered inside the modal");else if(_)S.debug("Dimmer clicked but mouse down was initially registered inside the scrollbar");else{var n=e(t.target).closest(D.modal).length>0,a=e.contains(i.documentElement,t.target);if(!n&&a&&S.is.active()&&P.hasClass(F.front)){if(S.debug("Dimmer clicked, hiding all modals"),T.allowMultiple){if(!S.hideAll())return}else if(!S.hide())return;S.remove.clickaway()}}else S.verbose("Dimmer clicked but closable setting is disabled")},debounce:function(e,t){clearTimeout(S.timer),S.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(T.closable?(S.debug("Escape key pressed hiding modal"),P.hasClass(F.front)&&S.hide()):S.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&(S.is.animating()||S.is.active())&&f(S.refresh)}},toggle:function(){S.is.active()||S.is.animating()?S.hide():S.show()},show:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.set.dimmerSettings(),S.set.dimmerStyles(),S.showModal(t)},hide:function(t){return t=e.isFunction(t)?t:function(){},S.refreshModals(),S.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},S.is.animating()||!S.is.active()?(S.showDimmer(),S.cacheSizes(),S.set.bodyMargin(),S.can.useFlex()?S.remove.legacy():(S.set.legacy(),S.set.modalOffset(),S.debug("Using non-flex legacy modal positioning.")),S.set.screenHeight(),S.set.type(),S.set.clickaway(),!T.allowMultiple&&S.others.active()?S.hideOthers(S.showModal):(H=!1,T.allowMultiple&&(S.others.active()&&v.filter("."+F.active).find(D.dimmer).addClass("active"),T.detachable&&P.detach().appendTo(w)),T.onShow.call(N),T.transition&&e.fn.transition!==n&&P.transition("is supported")?(S.debug("Showing modal with css animations"),P.transition({debug:T.debug,animation:(T.transition.showMethod||T.transition)+" in",queue:T.queue,duration:T.transition.showDuration||T.duration,useFailSafe:!0,onComplete:function(){T.onVisible.apply(N),T.keyboardShortcuts&&S.add.keyboardShortcuts(),S.save.focus(),S.set.active(),T.autofocus&&S.set.autofocus(),t()}})):S.error(R.noTransition))):S.debug("Modal is already visible")},hideModal:function(t,i,a){var o=v.filter("."+F.active).last();if(t=e.isFunction(t)?t:function(){},S.debug("Hiding modal"),!1===T.onHide.call(N,e(this)))return S.verbose("Hide callback returned false cancelling hide"),H=!1,!1;(S.is.animating()||S.is.active())&&(T.transition&&e.fn.transition!==n&&P.transition("is supported")?(S.remove.active(),P.transition({debug:T.debug,animation:(T.transition.hideMethod||T.transition)+" out",queue:T.queue,duration:T.transition.hideDuration||T.duration,useFailSafe:!0,onStart:function(){S.others.active()||S.others.animating()||i||S.hideDimmer(),T.keyboardShortcuts&&!S.others.active()&&S.remove.keyboardShortcuts()},onComplete:function(){S.unbind.scrollLock(),T.allowMultiple&&(o.addClass(F.front),P.removeClass(F.front),a?s.find(D.dimmer).removeClass("active"):o.find(D.dimmer).removeClass("active")),e.isFunction(T.onHidden)&&T.onHidden.call(N),S.remove.dimmerStyles(),S.restore.focus(),t()}})):S.error(R.noTransition))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(S.save.bodyMargin(),S.debug("Showing dimmer"),y.dimmer("show")):S.debug("Dimmer already visible")},hideDimmer:function(){y.dimmer("is animating")||y.dimmer("is active")?(S.unbind.scrollLock(),y.dimmer("hide",(function(){S.restore.bodyMargin(),S.remove.clickaway(),S.remove.screenHeight()}))):S.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var i=s.filter("."+F.active+", ."+F.animating);if(t=e.isFunction(t)?t:function(){},i.length>0){S.debug("Hiding all visible modals");var n=!0;return e(i.get().reverse()).each((function(i,a){n&&(n=e(a).modal("hide modal",t,!1,!0))})),n&&S.hideDimmer(),n}},hideOthers:function(t){var i=v.filter("."+F.active+", ."+F.animating);t=e.isFunction(t)?t:function(){},i.length>0&&(S.debug("Hiding other modals",v),i.modal("hide modal",t,!0))},others:{active:function(){return v.filter("."+F.active).length>0},animating:function(){return v.filter("."+F.animating).length>0}},add:{keyboardShortcuts:function(){S.verbose("Adding keyboard shortcuts"),l.on("keyup"+B,S.event.keyboard)}},save:{focus:function(){e(i.activeElement).closest(P).length>0||(b=e(i.activeElement).blur())},bodyMargin:function(){Z=c.css("margin-"+(S.can.leftBodyScrollbar()?"left":"right"));var e=parseInt(Z.replace(/[^\d.]/g,"")),n=t.innerWidth-i.documentElement.clientWidth;V=e+n}},restore:{focus:function(){b&&b.length>0&&T.restoreFocus&&b.focus()},bodyMargin:function(){var t=S.can.leftBodyScrollbar()?"left":"right";c.css("margin-"+t,Z),c.find(D.bodyFixed.replace("right",t)).each((function(){var i=e(this),n="fixed"===i.css("position")?"padding-"+t:t;i.css(n,"")}))}},remove:{active:function(){P.removeClass(F.active)},legacy:function(){P.removeClass(F.legacy)},clickaway:function(){T.detachable||P.off("mousedown"+x),w.off("mousedown"+x),w.off("mouseup"+x)},dimmerStyles:function(){w.removeClass(F.inverted),y.removeClass(F.blurring)},bodyStyle:function(){""===c.attr("style")&&(S.verbose("Removing style attribute"),c.removeAttr("style"))},screenHeight:function(){S.debug("Removing page height"),c.css("height","")},keyboardShortcuts:function(){S.verbose("Removing keyboard shortcuts"),l.off("keyup"+B)},scrolling:function(){y.removeClass(F.scrolling),P.removeClass(F.scrolling)}},cacheSizes:function(){P.addClass(F.loading);var a=P.prop("scrollHeight"),o=P.outerWidth(),s=P.outerHeight();S.cache.pageHeight!==n&&0===s||(e.extend(S.cache,{pageHeight:e(i).outerHeight(),width:o,height:s+T.offset,scrollHeight:a+T.offset,contextHeight:"body"==T.context?e(t).height():y.height()}),S.cache.topOffset=-S.cache.height/2),P.removeClass(F.loading),S.debug("Caching modal and container sizes",S.cache)},helpers:{deQuote:function(e){return String(e).replace(/"/g,"")},escape:function(e,t){if(t)return e;var i={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?(e=e.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;")).replace(/[<>"'`]/g,(function(e){return i[e]})):e}},can:{leftBodyScrollbar:function(){return S.cache.leftBodyScrollbar===n&&(S.cache.leftBodyScrollbar=S.is.rtl()&&(S.is.iframe&&!S.is.firefox()||S.is.safari()||S.is.edge()||S.is.ie())),S.cache.leftBodyScrollbar},useFlex:function(){return"auto"===T.useFlex?T.detachable&&!S.is.ie():(T.useFlex&&S.is.ie()?S.debug("useFlex true is not supported in IE"):T.useFlex&&!T.detachable&&S.debug("useFlex true in combination with detachable false is not supported"),T.useFlex)},fit:function(){var e=S.cache.contextHeight,t=S.cache.contextHeight/2,i=S.cache.topOffset,n=S.cache.scrollHeight,a=S.cache.height,o=T.padding;return n>a?t+i+n+o<e:a+2*o<e}},has:{configActions:function(){return Array.isArray(T.actions)&&T.actions.length>0}},is:{active:function(){return P.hasClass(F.active)},ie:function(){if(S.cache.isIE===n){var e=!t.ActiveXObject&&"ActiveXObject"in t,i="ActiveXObject"in t;S.cache.isIE=e||i}return S.cache.isIE},animating:function(){return P.transition("is supported")?P.transition("is animating"):P.is(":visible")},scrolling:function(){return y.hasClass(F.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)},rtl:function(){return S.cache.isRTL===n&&(S.cache.isRTL="rtl"===c.attr("dir")||"rtl"===c.css("direction")),S.cache.isRTL},safari:function(){return S.cache.isSafari===n&&(S.cache.isSafari=/constructor/i.test(t.HTMLElement)||!!t.ApplePaySession),S.cache.isSafari},edge:function(){return S.cache.isEdge===n&&(S.cache.isEdge=!!t.setImmediate&&!S.is.ie()),S.cache.isEdge},firefox:function(){return S.cache.isFirefox===n&&(S.cache.isFirefox=!!t.InstallTrigger),S.cache.isFirefox},iframe:function(){return!(self===top)}},set:{autofocus:function(){var t=P.find("[tabindex], :input").filter(":visible").filter((function(){return 0===e(this).closest(".disabled").length})),i=t.filter("[autofocus]"),n=i.length>0?i.first():t.first();n.length>0&&n.focus()},bodyMargin:function(){var t=S.can.leftBodyScrollbar()?"left":"right";(T.detachable||S.can.fit())&&c.css("margin-"+t,V+"px"),c.find(D.bodyFixed.replace("right",t)).each((function(){var i=e(this),n="fixed"===i.css("position")?"padding-"+t:t;i.css(n,"calc("+i.css(n)+" + "+V+"px)")}))},clickaway:function(){T.detachable||P.on("mousedown"+x,S.event.mousedown),w.on("mousedown"+x,S.event.mousedown),w.on("mouseup"+x,S.event.mouseup)},dimmerSettings:function(){if(e.fn.dimmer!==n){var t={debug:T.debug,dimmerName:"modals",closable:"auto",useFlex:S.can.useFlex(),duration:{show:T.transition.showDuration||T.duration,hide:T.transition.hideDuration||T.duration}},i=e.extend(!0,t,T.dimmerSettings);T.inverted&&(i.variation=i.variation!==n?i.variation+" inverted":"inverted"),E.dimmer("setting",i)}else S.error(R.dimmer)},dimmerStyles:function(){T.inverted?w.addClass(F.inverted):w.removeClass(F.inverted),T.blurring?y.addClass(F.blurring):y.removeClass(F.blurring)},modalOffset:function(){if(T.detachable)P.css({marginTop:!P.hasClass("aligned")&&S.can.fit()?-S.cache.height/2:T.padding/2,marginLeft:-S.cache.width/2});else{var t=S.can.fit();P.css({top:!P.hasClass("aligned")&&t?e(i).scrollTop()+(S.cache.contextHeight-S.cache.height)/2:!t||P.hasClass("top")?e(i).scrollTop()+T.padding:e(i).scrollTop()+(S.cache.contextHeight-S.cache.height-T.padding),marginLeft:-S.cache.width/2})}S.verbose("Setting modal offset for legacy mode")},screenHeight:function(){S.can.fit()?c.css("height",""):P.hasClass("bottom")||(S.debug("Modal is taller than page content, resizing page height"),c.css("height",S.cache.height+2*T.padding))},active:function(){P.addClass(F.active+" "+F.front),v.filter("."+F.active).removeClass(F.front)},scrolling:function(){y.addClass(F.scrolling),P.addClass(F.scrolling),S.unbind.scrollLock()},legacy:function(){P.addClass(F.legacy)},type:function(){S.can.fit()?(S.verbose("Modal fits on screen"),S.others.active()||S.others.animating()||(S.remove.scrolling(),S.bind.scrollLock())):P.hasClass("bottom")?S.verbose("Bottom aligned modal not fitting on screen is unsupported for scrolling"):(S.verbose("Modal cannot fit on screen setting to scrolling"),S.set.scrolling())},undetached:function(){y.addClass(F.undetached)}},setting:function(t,i){if(S.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,T,t);else{if(i===n)return T[t];e.isPlainObject(T[t])?e.extend(!0,T[t],i):T[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(i===n)return S[t];S[t]=i}},debug:function(){!T.silent&&T.debug&&(T.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,T.name+":"),S.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),S.verbose.apply(console,arguments)))},error:function(){T.silent||(S.error=Function.prototype.bind.call(console.error,console,T.name+":"),S.error.apply(console,arguments))},performance:{log:function(e){var t,i;T.performance&&(i=(t=(new Date).getTime())-(m||t),m=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":i})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=T.name+":",i=0;m=!1,clearTimeout(S.performance.timer),e.each(u,(function(e,t){i+=t["Execution Time"]})),t+=" "+i+"ms",d&&(t+=" '"+d+"'"),(console.group!==n||console.table!==n)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,(function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")})),console.groupEnd()),u=[]}},invoke:function(t,i,a){var s,r,l,c=L;return i=i||p,a=N||a,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,(function(i,a){var o=i!=s?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[o])&&i!=s)c=c[o];else{if(c[o]!==n)return r=c[o],!1;if(!e.isPlainObject(c[a])||i==s)return c[a]!==n&&(r=c[a],!1);c=c[a]}}))),e.isFunction(r)?l=r.apply(a,i):r!==n&&(l=r),Array.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),r}},g?(L===n&&(e.isFunction(T.templates[h])&&(T.autoShow=!0,T.className.modal=T.className.template,T=e.extend(!0,{},T,T.templates[h].apply(S,p)),F=T.className,$=T.namespace,A=T.fields,R=T.error),S.initialize()),e.isFunction(T.templates[h])||S.invoke(h)):(L!==n&&L.invoke("destroy"),S.initialize(),o=P)})),o!==n?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,restoreFocus:!0,autoShow:!1,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,scrollbarWidth:10,title:"",content:"",class:"",classTitle:"",classContent:"",classActions:"",closeIcon:!1,actions:!1,preserveHTML:!0,fields:{class:"class",text:"text",icon:"icon",click:"click"},onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:!1,onApprove:function(){return!0},onDeny:function(){return!0},selector:{title:"> .header",content:"> .content",actions:"> .actions",close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal",dimmer:"> .ui.dimmer",bodyFixed:"> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar, > .ui.fixed.nag, > .ui.fixed.nag > .close",prompt:".ui.input > input"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached",front:"front",close:"close icon",button:"ui button",modal:"ui modal",title:"header",content:"content",actions:"actions",template:"ui tiny modal",ok:"positive",cancel:"negative",prompt:"ui fluid input"},text:{ok:"Ok",cancel:"Cancel"}},e.fn.modal.settings.templates={getArguments:function(t){var i=[].slice.call(t);return e.isPlainObject(i[0])?e.extend({handler:function(){},content:"",title:""},i[0]):(e.isFunction(i[i.length-1])||i.push((function(){})),{handler:i.pop(),content:i.pop()||"",title:i.pop()||""})},alert:function(){var e=this.get.settings(),t=e.templates.getArguments(arguments);return{title:t.title,content:t.content,actions:[{text:e.text.ok,class:e.className.ok,click:t.handler}]}},confirm:function(){var e=this.get.settings(),t=e.templates.getArguments(arguments);return{title:t.title,content:t.content,actions:[{text:e.text.ok,class:e.className.ok,click:function(){t.handler(!0)}},{text:e.text.cancel,class:e.className.cancel,click:function(){t.handler(!1)}}]}},prompt:function(){var t=this,i=this.get.settings(),n=i.templates.getArguments(arguments),a=e(e.parseHTML(n.content)).filter(".ui.input");return 0===a.length&&(n.content+='<p><div class="'+i.className.prompt+'"><input placeholder="'+this.helpers.deQuote(n.placeholder||"")+'" type="text" value="'+this.helpers.deQuote(n.defaultValue||"")+'"></div></p>'),{title:n.title,content:n.content,actions:[{text:i.text.ok,class:i.className.ok,click:function(){var i=t.get.settings(),a=t.get.element().find(i.selector.prompt)[0];n.handler(e(a).val())}},{text:i.text.cancel,class:i.className.cancel,click:function(){n.handler(null)}}]}}}}(i(9755),window,document)},5754:(e,t,i)=>{!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var t,a=e(this),o=a.selector||"",s=(new Date).getTime(),r=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),m="string"==typeof c;return a.each((function(u){var h,g,p,f,v,b,y,w,C,_=e(this),x=this;C={initialize:function(){h=C.get.settings.apply(x,l),f=h.className,p=h.error,v=h.metadata,w="."+h.namespace,y="module-"+h.namespace,g=_.data(y)||C,b=C.get.animationEndEvent(),m&&(m=C.invoke(c)),!1===m&&(C.verbose("Converted arguments into settings object",h),h.interval?C.delay(h.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),g=C,_.data(y,g)},destroy:function(){C.verbose("Destroying previous module for",x),_.removeData(y)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=_.parent(),t=_.next();0===t.length?_.detach().appendTo(e):_.detach().insertBefore(t)},repaint:function(){C.verbose("Repainting element"),x.offsetWidth},delay:function(e){var t,i=C.get.animationDirection();i||(i=C.can.transition()?C.get.direction():"static"),e=e!==n?e:h.interval,t="auto"==h.reverse&&i==f.outward||1==h.reverse?(a.length-u)*h.interval:u*h.interval,C.debug("Delaying animation by",t),setTimeout(C.animate,t)},animate:function(e){if(h=e||h,!C.is.supported())return C.error(p.support),!1;if(C.debug("Preparing animation",h.animation),C.is.animating()){if(h.queue)return!h.allowRepeats&&C.has.direction()&&C.is.occurring()&&!0!==C.queuing?C.debug("Animation is currently occurring, preventing queueing same animation",h.animation):C.queue(h.animation),!1;if(!h.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;C.debug("New animation started, completing previous early",h.animation),g.complete()}C.can.animate()?C.set.animating(h.animation):C.error(p.noAnimation,h.animation,x)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,_.one(b+".queue"+w,(function(){C.queuing=!1,C.repaint(),C.animate.apply(this,h)}))},complete:function(e){e&&e.target===x&&e.stopPropagation(),C.debug("Animation complete",h.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),h.onComplete.call(x)))},force:{visible:function(){var e=_.attr("style"),t=C.get.userStyle(e),i=C.get.displayType(),n=t+"display: "+i+" !important;",a=_[0].style.display;return!i||"none"===a&&h.skipInlineHidden||_[0].tagName.match(/(script|link|style)/i)?(C.remove.transition(),!1):(C.verbose("Overriding default display to show element",i),_.attr("style",n),!0)},hidden:function(){var e=_.attr("style"),t=_.css("display"),i=e===n||""===e;"none"===t||C.is.hidden()?i&&_.removeAttr("style"):(C.verbose("Overriding default display to hide element"),_.css("display","none"))}},has:{direction:function(t){var i=!1;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,(function(e,t){t!==f.inward&&t!==f.outward||(i=!0)}))),i},inlineDisplay:function(){var e=_.attr("style")||"";return Array.isArray(e.match(/display.*?;/,""))}},set:{animating:function(e){C.remove.completeCallback(),e=e||h.animation;var t=C.get.animationClass(e);C.save.animation(t),C.force.visible()&&(C.remove.hidden(),C.remove.direction(),C.start.animation(t))},duration:function(e,t){((t="number"==typeof(t=t||h.duration)?t+"ms":t)||0===t)&&(C.verbose("Setting animation duration",t),_.css({"animation-duration":t}))},direction:function(e){(e=e||C.get.direction())==f.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),_.addClass(f.looping)},hidden:function(){_.addClass(f.transition).addClass(f.hidden)},inward:function(){C.debug("Setting direction to inward"),_.removeClass(f.outward).addClass(f.inward)},outward:function(){C.debug("Setting direction to outward"),_.removeClass(f.inward).addClass(f.outward)},visible:function(){_.addClass(f.transition).addClass(f.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug("Starting tween",e),_.addClass(e).one(b+".complete"+w,C.complete),h.useFailSafe&&C.add.failSafe(),C.set.duration(h.duration),h.onStart.call(x)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){"none"!==e&&_.data(v.displayType,e)},transitionExists:function(t,i){e.fn.transition.exists[t]=i,C.verbose("Saving existence of transition",t,i)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(_.removeClass(e),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout((function(){_.triggerHandler(b)}),e+h.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){_.removeClass(f.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){_.off(".queue"+w)},completeCallback:function(){_.off(".complete"+w)},display:function(){_.css("display","")},direction:function(){_.removeClass(f.inward).removeClass(f.outward)},duration:function(){_.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){_.removeClass(f.hidden)},visible:function(){_.removeClass(f.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),_.removeClass(f.looping))},transition:function(){_.removeClass(f.transition).removeClass(f.visible).removeClass(f.hidden)}},get:{settings:function(t,i,n){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n,duration:i}):"string"==typeof i||"number"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,duration:i}):"object"==typeof i?e.extend({},e.fn.transition.settings,i,{animation:t}):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||h.animation,i=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return f.animating+" "+f.transition+" "+i+t},currentAnimation:function(){return!(!C.cache||C.cache.animation===n)&&C.cache.animation},currentDirection:function(){return C.is.inward()?f.inward:f.outward},direction:function(){return C.is.hidden()||!C.is.visible()?f.inward:f.outward},animationDirection:function(t){var i;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,(function(e,t){t===f.inward?i=f.inward:t===f.outward&&(i=f.outward)}))),i||!1},duration:function(e){return!1===(e=e||h.duration)&&(e=_.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){if(e=e===n||e,h.displayType)return h.displayType;if(e&&_.data(v.displayType)===n){var t=_.css("display");""===t||"none"===t?C.can.transition(!0):C.save.displayType(t)}return _.data(v.displayType)},userStyle:function(e){return(e=e||_.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=i.createElement("div"),a={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in a)if(t.style[e]!==n)return a[e];return!1},animationEndEvent:function(){var e,t=i.createElement("div"),a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in a)if(t.style[e]!==n)return a[e];return!1}},can:{transition:function(t){var i,a,o,s,r,l,c=h.animation,d=C.get.transitionExists(c),m=C.get.displayType(!1);if(d===n||t){if(C.verbose("Determining whether animation exists"),i=_.attr("class"),a=_.prop("tagName"),s=(o=e("<"+a+" />").addClass(i).insertAfter(_)).addClass(c).removeClass(f.inward).removeClass(f.outward).addClass(f.animating).addClass(f.transition).css("animationName"),r=o.addClass(f.inward).css("animationName"),m||(m=o.attr("class",i).removeAttr("style").removeClass(f.hidden).removeClass(f.visible).show().css("display"),C.verbose("Determining final display state",m),C.save.displayType(m)),o.remove(),s!=r)C.debug("Direction exists for animation",c),l=!0;else{if("none"==s||!s)return void C.debug("No animation defined in css",c);C.debug("Static animation found",c,m),l=!1}C.save.transitionExists(c,l)}return d!==n?d:l},animate:function(){return C.can.transition()!==n}},is:{animating:function(){return _.hasClass(f.animating)},inward:function(){return _.hasClass(f.inward)},outward:function(){return _.hasClass(f.outward)},looping:function(){return _.hasClass(f.looping)},occurring:function(e){return e="."+(e=e||h.animation).replace(" ","."),_.filter(e).length>0},visible:function(){return _.is(":visible")},hidden:function(){return"hidden"===_.css("visibility")},supported:function(){return!1!==b}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),x.blur(),C.remove.display(),C.remove.visible(),e.isFunction(h.onBeforeHide)?h.onBeforeHide.call(x,(function(){C.hideNow()})):C.hideNow()},hideNow:function(){C.set.hidden(),C.force.hidden(),h.onHide.call(x),h.onComplete.call(x)},show:function(e){C.verbose("Showing element",e),C.force.visible()&&(C.remove.hidden(),C.set.visible(),h.onShow.call(x),h.onComplete.call(x))},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),_.triggerHandler(b)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),_.triggerHandler(b)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),_.removeClass(f.disabled)},disable:function(){C.debug("Stopping animation"),_.addClass(f.disabled)},setting:function(t,i){if(C.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(i===n)return C[t];C[t]=i}},debug:function(){!h.silent&&h.debug&&(h.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,h.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),C.verbose.apply(console,arguments)))},error:function(){h.silent||(C.error=Function.prototype.bind.call(console.error,console,h.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=h.name+":",i=0;s=!1,clearTimeout(C.performance.timer),e.each(r,(function(e,t){i+=t["Execution Time"]})),t+=" "+i+"ms",o&&(t+=" '"+o+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==n||console.table!==n)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,(function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")})),console.groupEnd()),r=[]}},invoke:function(i,a,o){var s,r,l,c=g;return a=a||d,o=x||o,"string"==typeof i&&c!==n&&(i=i.split(/[\. ]/),s=i.length-1,e.each(i,(function(t,a){var o=t!=s?a+i[t+1].charAt(0).toUpperCase()+i[t+1].slice(1):i;if(e.isPlainObject(c[o])&&t!=s)c=c[o];else{if(c[o]!==n)return r=c[o],!1;if(!e.isPlainObject(c[a])||t==s)return c[a]!==n&&(r=c[a],!1);c=c[a]}}))),e.isFunction(r)?l=r.apply(o,a):r!==n&&(l=r),Array.isArray(t)?t.push(l):t!==n?t=[t,l]:l!==n&&(t=l),r!==n&&r}},C.initialize()})),t!==n?t:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,skipInlineHidden:!1,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(i(9755),window,document)}}]);